# Congrats' ! #

## Development ##

### First launch ###

```bash
$ git clone YOUR_REPO_URL
$ npm install
$ bower install
$ grunt serve
```

The last command will eventually start a web server on port 9000, and attempt to start your default
web browser. Your source files are "watched", ie. any changes you make will be detected, and actions
will take place accordingly ; for instance:

- Changes to any LESS file will trigger a compilation, and your browser will automatically
  reload the generated CSS file
- Changes to a JS file will trigger a lint validation, and reload your browser if the validation passes
- Changes to any HTML file will trigger a reload of your browser

To stop the process, press `CTRL + C`.

*Note : from time to time, the automatic reload stops working. Restart the `grunt serve` task, should it happen.*


### Day to day ###
#### Start working ####
```bash
# Make sure everything is up to date
$ git pull
$ npm install
$ bower install
# Start developing
$ grunt serve
```

The last command will eventually start a web server on port 9000, and attempt to start your default
web browser. Your source files are "watched", ie. any changes you make will be detected, and actions
will take place accordingly ; for instance :

- Changes to any LESS file will trigger a compilation, and your browser will automatically
  reload the generated CSS file
- Changes to a JS file will trigger a lint validation, and reload your browser if the validation passes
- Changes to any HTML file will trigger a reload of your browser

To stop the process, press `CTRL + C`.

*Note : from time to time, the automatic reload stops working. Restart the `grunt serve` task, should it happen.*

#### Add new bower package ####

Make sure no `grunt serve` task is running. Enter the following commands :

```bash
$ bower install --save YOUR_PACKAGE
$ grunt serve
```

The task will update the `index.html` file to load the package CSS/JS files (if any).


----------------------------

## Parameters ##

Parameters allow you to define your application parameters in a central way. These parameters
can be different between environments (eg. dev and prod), or be the same no matter the environment.

The parameters are located in the `app/components/app/app.parameters.js` file,
which  is automagically generated by Grunt.
**You should never edit this file directly**.
Instead, use the files located in the `parameters` directory, and use Grunt to generate the parameters file.

### How it works ###
Grunt will merge two JSON files, and use this to update the content of the parameters file.
The two JSON files that are merged are :
- `parameters/parameters.json` : use it to define environment-agnostic parameters
- `parameters/parameters_<ENV>.json` : use this file to define environment-specific parameters

The file `parameters/app.parameters.js` is used as a skeleton for the parameters file.
Any string starting with `@@` will be replaced by the value defined in the JSON files, if any.

For example, if your JSON file contains the following :

```json
{
  "foo": "bar"
}
```

then any occurence of `@@foo` will be replaced by `bar` in the skeleton. This allows you to inject any parameter into the
application.

Eventually, the file will be copied in the `app/components/app` directory.


### Add/Edit/Remove parameter(s) ###

Make sure no Grunt task is running. Then :

- Edit `parameters/app.parameters.js`
- Edit `parameters/parameters.json` and/or `parameters/parameters_<DEV>.json`
- Run `grunt serve`

----------------------------

## Distribution builds (aka. dist) ##

### Create a distribution build ###

Simply enter the following command :

```bash
$ grunt build
```

The task will create a `dist` directory, containing all your applications files.
Those files have been optimized to match Web best practices, ie. :

- CSS files are minified and concatenated
- JS files are minified and concatenated
- Images are optimized (reduce file size)

During this process, some files are renamed, to avoid caching issues. The process takes care of
updating path in the HTML/CSS/JS files so that they match the new optimized files.

### Test distribution build ###

```bash
$ grunt serve:dist
```

The task will launch a web server on port 9000, and will attempt to start your default browser.
This build will use the minified CSS and JS files, and the optimized images (if any). This allows
you to test the application behaviour and validate the distribution build process.


